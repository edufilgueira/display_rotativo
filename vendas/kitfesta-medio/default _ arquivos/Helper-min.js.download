!function(){function e(e,t,n){return void 0===n||0==+n?Math[e](t):(t=+t,n=+n,isNaN(t)||"number"!=typeof n||n%1!=0?NaN:(t=t.toString().split("e"),t=Math[e](+(t[0]+"e"+(t[1]?+t[1]-n:-n))),+((t=t.toString().split("e"))[0]+"e"+(t[1]?+t[1]+n:n))))}Math.round10||(Math.round10=function(t,n){return e("round",t,n)}),Math.floor10||(Math.floor10=function(t,n){return e("floor",t,n)}),Math.ceil10||(Math.ceil10=function(t,n){return e("ceil",t,n)})}();var helper=new function(){function e(t,n,i,r){var o,a=$(n).data("item");o=/CaixaAba_/.exec(a)?'.content-tab > [name="element"][data-item]':'> [data-item] > [name="element"][data-item]';for(var s=$(n).find(o),u=0;u<s.length;u++){var l=s[u];/Caixa_/.exec($(l).data("item"))||/CaixaAba_/.exec($(l).data("item"))?(t[l.id]=helper.getRealRect(l,i,r),e(t,l,i,r)):t[l.id]=helper.getRealRect(l,i,r)}}var t=this;this.getBaseItem=function(e){return"string"==typeof e&&e.indexOf("_")>-1&&(e=e.split("_").shift()),e},this.isChildRoot=function(e){return"Page"==helper.getBaseItem($(e).parent().attr("data-item"))||"Header"==helper.getBaseItem($(e).parent().attr("data-item"))||"Footer"==helper.getBaseItem($(e).parent().attr("data-item"))},this.objLength=function(e){if(e instanceof Array)return e.length;var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n},this.stripHTML=function(e){return e.replace(/<.*?>/g,"")},this.capitalizeFirstLetter=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},this.getCSS=function(e){var t=Base_Style_Handler_StyleSheet.getClass(e);return t&&t["<ITEM>"]?t["<ITEM>"]:{}},this.getStyleProperty=function(e,t){var n={},i=Base_Style_Handler_StyleSheet.getClass(e,t);n[e]={};for(var r in i)"<ITEM>"==r&&(n[e]=i[r]);return n},this.moveScroll=function(e,t,n){void 0===e&&(e=0),void 0===t&&(t=500),$("body").animate({scrollTop:e},t,"swing",function(){"function"==typeof n&&n()})},this.isVisible=function(e){var t=$(window).height(),n=$(window).scrollTop(),i=t+n,r=$(e).height(),o=$(e).offset().top,a=o+r;return o-50<n?o-helper.getTopDiff():a>i&&n+(a-i)},this.objEquals=function(e,t){if(e===t)return!0;if(!(e instanceof Object&&t instanceof Object))return!1;if(e.constructor!==t.constructor)return!1;for(var n in e)if(e.hasOwnProperty(n)){if(!t.hasOwnProperty(n))return!1;if(e[n]!==t[n]){if("object"!=typeof e[n])return!1;if(!helper.objEquals(e[n],t[n]))return!1}}for(n in t)if(t.hasOwnProperty(n)&&!e.hasOwnProperty(n))return!1;return!0},this.getLanguage=function(){var e=null;return"undefined"!=typeof HTML_Load?e=HTML_Load.getConfig("language").toLowerCase():"undefined"!=typeof Publicar&&(e=Publicar.getOptions("lang").toLowerCase()),e},this.arrayToObject=function(e){var t={};if($.isArray(e))for(var n=0;n<e.length;++n)t[n]=e[n];return t},this.showLoadingModal=function(e){var t=$("<div>").addClass("elements-loading-modal").appendTo(e).show("fade",300);$("<i>").addClass("fa fa-cog fa-spin").appendTo(t)},this.hideLoadingModal=function(e){$(e).find(".elements-loading-modal").hide("fade",300,function(){$(this).remove()})},this.addLoadingModal=function(e){("undefined"==typeof HTML_Load||HTML_Load.isSaving())&&t.showLoadingModal(e)},this.removeLoadingModal=function(e){("undefined"==typeof HTML_Load||HTML_Load.isSaving())&&t.hideLoadingModal(e)},this.applyStyle=function(e,t,n){var i={};if($.isArray(e))for(var r in e)i[e[r]]=t;else i[e]=t;Base_Style_Handler_StyleSheet.setCSS(i,n),Base_Style_Handler_StyleSheet.applyCSS(e)},this.mergeProperties=function(e,t,n,i,r){if(e=e?helper.clone(e):{},"object"==typeof t)for(var o in t){var a=$.isArray(t[o]);if(n||r&&a){if(a)for(var s=t[o].indexOf(null);-1!=s;s=t[o].indexOf(null))t[o].splice(s,1);e[o]=t[o]}else if("string"==typeof t[o]&&$.isArray(i)&&$.inArray(o,i)>-1){var u=new Array;"string"==typeof e[o]&&(u=e[o].split(" ")),u=$.merge(u,t[o].split(" ")),e[o]=u.join(" ")}else"object"==typeof t[o]&&null!=t[o]?e[o]=helper.mergeProperties(e[o],t[o],n,i,r):void 0!==t[o]&&null!=t[o]&&(e[o]=t[o])}return e},this.normalizeUrl=function(e){return 0!=e.indexOf("http")&&0!=e.indexOf("//")&&(e="http://"+e),e},this.normalizeTel=function(e){return 0!=e.indexOf("tel")&&(e="tel:"+e),e},this.onlyNumbers=function(e){$(e).on("keypress",function(e){-1!==$.inArray(e.keyCode,[46,8,9,27,13,110,190])||65==e.keyCode&&!0===e.ctrlKey||e.keyCode>=35&&e.keyCode<=39||(e.shiftKey||e.keyCode<48||e.keyCode>57)&&e.preventDefault()})},this.getClassToRemove=function(e,t){for(var e=e.split(" "),n=new Array,i=0;i<e.length;i++)0==e[i].indexOf(t)&&n.push(e[i]);return n.join(" ")},this.normalizeArrayKeys=function(e){var t=new Array;for(var n in e)t.push(e[n]);return t},this.getOffsetTop=function(e){return e&&e.offsetParent?e.offsetTop+t.getOffsetTop(e.offsetParent):0},this.getBounding=function(e){if("undefined"!==e.getBoudingClientRect&&"function"==typeof e.getBoundingClientRect)return e.getBoundingClientRect()},this.getElementBottom=function(e){if(void 0!==e&&null!=e){if(void 0!==e.getBoundingClientRect&&"function"==typeof e.getBoundingClientRect){var n=e.getBoundingClientRect().bottom;if(n)return n+window.pageYOffset}return t.getOffsetTop(e)+e.offsetHeight}return t.getOffsetTop(e)},this.unique=function(e){var t={boolean:{},number:{},string:{}},n=[];return e.filter(function(e){var i=typeof e;return i in t?!t[i].hasOwnProperty(e)&&(t[i][e]=!0):!(n.indexOf(e)>=0)&&n.push(e)})},this.fixBoolean=function(e){return"string"==typeof e&&("true"==e||"1"==e?e=!0:"false"!=e&&"0"!=e&&""!=e||(e=!1)),e},this.getCustomClass=function(e){return this.getClassToRemove(e,"custom_")},this.HexToRGB=function(e){return helperCripty.HexToRGB(e)},this.RGBToHex=function(e){return helperCripty.RGBToHex(e)},this.toMD5=function(e){return helperCripty.toMD5(e)},this.toBase64=function(e){return helperCripty.toBase64(e)},this.getDeviceSize=function(e){return e||("undefined"!=typeof HTML_Load?e=HTML_Load.getConfig("device"):"undefined"!=typeof Publicar&&(e=Publicar.getOptions("device"))),"mobile"==e?320:"tablet"==e?768:990},this.getDevice=function(){return"undefined"==typeof Publicar&&"undefined"!=HTML_Load?HTML_Load.getConfig("device"):Publicar.getOptions("device")},this.getTopDiff=function(e){var t=0;return"undefined"!=typeof HTML_Load&&(t=50,e||(e=HTML_Load.getConfig("device")),"desktop"!=e&&(t+=55)),t},this.getDeviceCode=function(e){switch(e||(e=t.getDevice()),e){case"tablet":return 2;case"mobile":return 3;default:return 1}},this.getBottomDiff=function(e){var t=0;return"undefined"!=typeof HTML_Load&&(t=0,e||(e=HTML_Load.getConfig("device")),"desktop"!=e&&(t+=56)),t},this.JSONstringify=JSON.stringify||function(e){var t=typeof e;if("object"!=t||null===e)return"string"==t&&(e='"'+e+'"'),String(e);var n,i,r=[],o=e&&e.constructor==Array;for(n in e)"string"==(t=typeof(i=e[n]))?i='"'+i+'"':"object"==t&&null!==i&&(i=JSON.stringify(i)),r.push((o?"":'"'+n+'":')+String(i));return(o?"[":"{")+String(r)+(o?"]":"}")},this.isChild=function(e,t){for(var n=$(e).parent()[0];"Base"!=$(n).attr("data-item");){if($(n).attr("data-item")==$(t).attr("data-item"))return!0;n=$(n).parent()[0]}return!1},this.isChildBase=function(e,t){for(var n=$(e).parent()[0];"Base"!=$(n).attr("data-item");){if(helper.getBaseItem($(n).attr("data-item"))==t)return!0;n=$(n).parent()[0]}return!1},this.disableSelection=function(){$("body").css({"-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"})},this.enableSelection=function(){$("body").css({"-webkit-user-select":"initial","-khtml-user-select":"initial","-moz-user-select":"initial","-ms-user-select":"initial","user-select":"initial"})},this.getContainer=function(e){if($(e).attr("name"))return e;var t=$(e).closest('[name="element"]').get(0);return t||e},this.getInstanceContainer=function(e){if($(e).attr("name"))return e.getInstance();var t=$(e).closest('[name="element"]').get(0);return t?t.getInstance():e.getInstance()},this.getLastItemOfType=function(e){var t=this.getContainer(e),n=$(t).attr("data-item");if(n){if(n.indexOf("CaixaAba")>-1){var i=$(t).find(".content-tab.active").length-1-$(t).find('.content-tab.active [name="element"][data-item^="CaixaAba"]').length;return i<0&&(i=0),$(t).find(".content-tab.active").get(i)}var r=$(t).find('[data-item="'+n+'"]:first').get(0);if(r)return r}return t},this.getParent=function(e,t,n){for(void 0===n&&(n="data-item");null!=e&&"editor-html-corpo"!=e.id;){if($(e).attr(n)==t)return e;e=$(e).parent().get(0)}return null},this.showMessage=function(e){Base_Alert({msg:e.msg,alertClass:e.alertClass,show_btn_cancel:!1,text_btn_confirm:Translate.get("close")})},this.isEmpty=function(e){if("object"==typeof e){for(var t in e)if(e.hasOwnProperty(t))return!1}else if(e instanceof Array&&e.length>0)return!1;return!0},this.inArray=function(e,t,n){for(var i=0;i<t.length;i++)if(n){var r=e.match(t[i]);if(r&&r.input.length==e.length)return!0}else if(t[i]==e)return!0;return!1};var n=!1;this.showModal=function(e){e&&$("#loading-modal").addClass("hide-cog"),"undefined"!=typeof HTML_Load&&1==HTML_Load.getPublishVersion()||($("#loading-modal").show("fade"),n=!0,setTimeout(function(){},1e4))},this.hideModal=function(){"undefined"!=typeof HTML_Load&&1==HTML_Load.getPublishVersion()||(n=!1,$("#loading-modal").removeClass("hide-cog").hide("fade"))},this.stripslashes=function(e){return e=e.replace(/\\'/g,"'"),e=e.replace(/\\"/g,'"'),e=e.replace(/\\0/g,"\0"),e=e.replace(/\\\\/g,"\\")},this.removeSpecialChar=function(e){for(var t=0;t<"áàãâéêíóôõúüçÁÀÃÂÉÊÍÓÔÕÚÜÇ ".length;t++)for(var n=e.indexOf("áàãâéêíóôõúüçÁÀÃÂÉÊÍÓÔÕÚÜÇ "[t]);n>-1&&(e=e.substr(0,n)+"aaaaeeiooouucAAAAEEIOOOUUC-"[t]+(n+1==e.length?"":e.substr(n+1,e.length)),n+1!=e.length);)n=e.indexOf("áàãâéêíóôõúüçÁÀÃÂÉÊÍÓÔÕÚÜÇ "[t],n+1);return e},this.trim=function(e){return e=e.replace(/^\s+|\s+$/g,"")},this.tratarProperties=function(e){for(index in e)if("object"==typeof e[index])e[index]=tratarProperties(e[index]);else{var t=index.indexOf("-");if(-1!=t){var n=index.replace("-","");e[n=n.substr(0,t)+n.charAt(t).toUpperCase()+n.substr(t+1)]=e[index],delete e[index]}}return e},this.addDivBlock=function(e){$(e).addClass("divBlock")},this.urlYouTube=function(e){var t="";return e.indexOf("v=")>-1?t=e.substr(e.indexOf("v=")+2,11):e.indexOf("/v/")>-1?t=e.substr(e.indexOf("/v/")+3,11):e.indexOf(".be/")>-1?t=e.substr(e.indexOf("/v/")+4,11):e.indexOf("embed")>-1&&(t=e.substr(e.indexOf("embed")+6,11)),t},this.urlVimeo=function(e){var t=new RegExp(/(https?:\/\/)?(www.)?(player.)?vimeo.com\/([a-z]*\/)*([0-9]{6,11})[?]?.*/);return t.test(e)?t.exec(e)[5]:""},this.clone=function(e){if(null==e||"object"!=typeof e)return e;try{var t=new e.constructor;for(var n in e)t[n]=this.clone(e[n]);return t}catch(e){}},this.scroll=new function(){var e=!0,t=!0,n=!1;$(document).on("mousewheel",function(e){t||e.preventDefault()}).on("keydown",function(t){!e&&t.keyCode>36&&t.keyCode<41&&t.preventDefault()}),this.lock=function(){n=!0},this.unlock=function(){n=!1},this.keyDown=function(t){if(void 0===t)return e;n||(e=t)},this.mouseWheel=function(e){if(void 0===e)return t;n||(t=e)}},this.insertElement=function(e,n){var i=$(e).attr("data-item");if(n){var r=$(n).attr("data-item");if(void 0!==r&&r.indexOf("CaixaAba")>-1){var o=n.getInstance().getAba(e);if(!o)return void Property_Controller.getInstanceById(e.id).setStatus("deleted");n=o}else if("object"==typeof n){var a=$(n).children('[data-item="'+r+'"]').get(0);void 0!==a&&(n=a)}}else{var s=Property_Controller.getInstanceById(e.id).getParentID();if(s)u=Property_Controller.getInstanceById(s).getInstance().getContainer();else var u=Factory.getDefaultPlace(i);n=t.getLastItemOfType(u)}$(e).appendElement(n)},this.mudarURL=function(e,t){var n={};if("undefined"!=typeof Publicar){var i=Publicar.getPageById(Publish_Transition.getCurrentPageID());n={title:t=i.getTemplate().config("titulo")+" | "+(""!=i.config("titulo")?i.config("titulo"):i.config("nome"))},document.title=t;var r=i.getTemplate().config("descricao")+" | "+i.config("descricao");$("meta[name=description]").attr("content",r)}history.pushState?history.pushState(n,null,e):location.href=e},this.setElementSelected=function(e){var n=$(".widgetFocused");n.length&&(n.find(".ui-resizable-handle").hide(),n.addClass("ui-resizable-autohide"),n.removeClass("widgetFocused")),!e||$(e).hasClass("ui-widget")||$(e).hasClass("ui-resizable-disabled")?t.scroll.keyDown(!0):($(e).addClass("widgetFocused"),$(e).removeClass("ui-resizable-autohide"),$(e).find("> .ui-resizable-handle").show(),t.scroll.keyDown(!1))},this.setCenter=function(e){if($.browser.chrome&&$.browser.versionNumber>=61)t="html";else var t=-1!=navigator.userAgent.toLowerCase().indexOf("webkit")?"body":"html";var n=$(t).scrollTop()-50+$(window).height()/2,i=$(".base-body").offset().top,r=n-$(e).height()/2;if(r<i&&(r=i),$(e).offset({top:r}),!$(e).hasClass("fullScreen")){var o=$(window).width()/2-$(e).width()/2;$(e).offset({left:o})}},this.adjustBodyHeight=function(e,t){var n=$(e).offset().top+$(e).outerHeight(),i=Publish_Resize.getEstrutura("body");0==$(e).height()&&void 0===t&&(helper.showModal(),setTimeout(function(){helper.hideModal(),helper.adjustBodyHeight(e,!0)},1e3)),i&&n>i.top()+i.height()&&($(i.element()).height(i.height()+(n-i.height())),$(".base-footer").offset({top:n}),Publish_Resize.setFooterPosition(n),Publish_Resize.resizeBaseEditor())},this.onInsertElement=function(e){if(helper.setElementSelected(e),helper.setCenter(e),helper.adjustBodyHeight(e),"tablet"==helper.getDevice()&&((t=Property_Controller.getInstanceById(e.id)).setVisibility(!1,"mobile"),t.setVisibility(!1,"desktop")),"mobile"==helper.getDevice()){var t=Property_Controller.getInstanceById(e.id);t.setVisibility(!1,"tablet"),t.setVisibility(!1,"desktop")}},this.nl2br=function(e){return(e+"").replace(/(\r\n|\n\r|\r|\n)/g,"<br>")},this.br2nl=function(e){return e.replace(/<br>/g,"\r")},this.copyToClipboard=function(e){if(window.clipboardData&&window.clipboardData.setData)return clipboardData.setData("Text",e);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var t=document.createElement("textarea");t.textContent=e,t.style.position="fixed",document.body.appendChild(t),t.select();try{return document.execCommand("copy")}catch(e){return console.warn("Copy to clipboard failed.",e),!1}finally{document.body.removeChild(t)}}},this.removeHoverElement=function(e){var n=["Header","Footer","Caixa","Faixa"],i=e.getContainer(),r=[i.id];$(i).find('[name="element"][data-item]').each(function(){r.push(this.id)}),$(i).parents('[name="element"][data-item]').each(function(){var e=t.getBaseItem($(this).attr("data-item"));if($.inArray(e,n)>-1){var i=this.getInstance(),o=i.getConfigHoverProperty(),a={};for(var s in o)-1==$.inArray(o[s].pai,r)&&(a[s]=o[s]);i.setConfigHoverProperty(a)}})},this.xmlToString=function(e){return window.ActiveXObject?e.xml:(new XMLSerializer).serializeToString(e)},this.getFileExtension=function(e){return e.split(".").pop().toLowerCase()},this.getSvg=function(e,t,n){e&&$.get(e,function(e){t&&$(e).find("svg").attr("fill",t),"function"==typeof n&&n("data:image/svg+xml;utf8,"+helper.xmlToString(e))})},this.firstObj=function(e){for(var t in e)return e[t];return null},this.isFacebookAppUserAgent=function(){var e=navigator.userAgent||window.opera;return e.indexOf("FBAN")>-1||e.indexOf("FBAV")>-1},this.isLumiaAppUserAgent=function(){var e=navigator.userAgent||window.opera;return e.indexOf("Lumia")>-1||e.indexOf("NOKIA")>-1||e.indexOf("Windows Phone")>-1},this.onDropChildren=function(e){"function"==typeof $(e).get(0).onDrop&&$(e).get(0).onDrop(),$(e).find('[name="element"]').each(function(){"function"==typeof this.onDrop&&this.onDrop()})},this.hasPinClass=function(e){return/(fixedElements|[a-zA-Z]+Position)/.test(e.className)},this.formatObjLink=function(e){try{e&&("string"==typeof e&&(e=$.parseJSON(e)),$.isArray(e)&&(e=e[0]))}catch(e){}return e},this.isColor=function(e){return!(!e||"transparent"!=e&&!/^(#|rgb)/.test(e))},this.getNewDate=function(e){try{if(void 0===e||""===e||"0000-00-00 00:00:00"==e)return new Date;if("pt_br"==helper.getLanguage())return(t=e.split(" "))[0]=t[0].split("/").reverse().join("-"),new Date(t.join(" "));var t=e.split("/").join("-");return new Date(t)}catch(e){return new Date}},this.formatDate=function(e){return"pt_br"==helper.getLanguage()?$.datepicker.formatDate("dd/mm/yy",e)+" "+e.toLocaleTimeString():$.datepicker.formatDate("mm/dd/yy",e)+" "+e.toLocaleTimeString()},this.revertFormat=function(e){if("pt_br"==helper.getLanguage())return(t=e.split(" "))[0]=t[0].split("/").reverse().join("-"),t.join(" ");var t=e.split(" "),n=t[0].split("/");return n[2]+"-"+n[0]+"-"+n[1]+" "+t[1]},this.isFloat=function(e){return e===+e&&e!==(0|e)},this.addZeroLeft=function(e){return e<10&&(e="0"+e),e},this.isBase64=function(e){try{return btoa(atob(e))==e}catch(e){return!1}},this.getThumbSource=function(e,t){return e};var i,r;this.timeout=function(e,t){void 0!==i&&(clearTimeout(i),r=!0),i=setTimeout(function(){r&&("function"==typeof e&&e(),r=!1)},t)},this.includeJavascript=function(e){if(document.createElement&&document.getElementsByTagName){var t=document.getElementsByTagName("head")[0],n=document.createElement("script");n.setAttribute("type","text/javascript"),n.setAttribute("src",e),t.appendChild(n)}},this.hasAppearance=function(e){var t=["Menu","Botao","Faixa","Caixa","LinhaVertical","LinhaHorizontal","Header","Footer","Slider","Formulario","Mailmkt","CaixaAba"];for(var n in t)if(e.toLowerCase()===t[n].toLowerCase()||e.indexOf(t[n])>=0)return!0;return!1},this.clearImagesIdPhotoEditor=function(e,t){$("img#image_edicao").each(function(){$(this).removeAttr("id")});var n=$("#image_edicao").get(0);n&&(n.id=""),t&&("jpg"!==e.src.slice(-3)&&"png"!==e.src.slice(-3)||(e.id="image_edicao"))},this.getDeviceWidth=function(e){return e||(e=t.getDevice()),{desktop:990,tablet:768,mobile:320}[e]},this.clearClassesBackground=function(e,t,n){var i=Base_Style_Handler_StyleSheet.getClass($("#view").attr("class")+"-background-page-"+e);if(i&&"none !important"!==(r=i['<ITEM>[id="'+t+'"]'])["background-color"]&&$("#"+t).removeClass($("#view").attr("class")+"-background"),i=Base_Style_Handler_StyleSheet.getClass("texture-"+$("#view").attr("class")+"-background-page-"+e)){var r=i['<ITEM>[data-layout-id="'+t+'"]'];"initial"!==r["background-image"]&&$(n).removeClass("texture-"+$("#view").attr("class")+"-background")}},this.editorBackgroundColor=function(){var e=["#fff","#666","#999"];void 0!==Factory.getConfig("EditorBackground")?$("body").css("background-color",e[Factory.getConfig("EditorBackground").color]):$("body").css("background-color","white")},this.getRealRect=function(e,n,i){var r=t.getDeviceWidth(n),o=$(e).css("left");o=isNaN(parseInt(o))?o:parseInt(o);var a=$(e).css("top");a=isNaN(parseInt(a))?a:parseInt(a);var s=$(e).css("bottom");s=isNaN(parseInt(s))?s:parseInt(s);var u=$(e).outerWidth(),l=$(e).width(),f=$(e).outerHeight();return{width:l,outerWidth:u,height:$(e).height(),outerHeight:f,left:o,right:r-o-u,top:a,bottom:s,dataItem:$(e).data("item"),parent:i||$(e).attr("id_editor_pai")}},this.getAllRealRect=function(n,i,r){var o=$(i).data("item");/Faixa/.exec(o)||/Caixa_/.exec(o)||/CaixaAba_/.exec(o)?(n[i.id]=helper.getRealRect(i,r),e(n,i,r,i.id)):n[i.id]=t.getRealRect(i,r)}};